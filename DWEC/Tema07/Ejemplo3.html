<!DOCTYPE html>
<!--
    Autor=Laura Lozano Calvo
    Fecha=30-ene-2014
    Licencia=GPL v3
    Versión=1.0
    Descripción= Al pulsar un botón se realiza una petición asíncrona con AJAX y el resultado el mostrado como text de un div
-->
<html>
    <head>
        <title></title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script type = "text/javascript">
             // Obtener la instancia del objeto XMLHttpRequest
             // Navegadores que siguen los estándares
            var objetoXHR;
                if(window.XMLHttpRequest) {// Navegadores que siguen los estándares
                    objetoXHR = new XMLHttpRequest();
                }
                else if(window.ActiveXObject) {// Navegadores obsoletos
                    objetoXHR = new ActiveXObject("Microsoft.XMLHTTP");
                }
            

            function obtenerDatosServidor(origen, elemento)
            {

                objeto_destino = document.getElementById(elemento); 
                
                objetoXHR.onreadystatechange = respuesta;
                objetoXHR.open("GET", origen); 
                objetoXHR.send(null); 
            }
        
     
            function respuesta(){
                
                if (objetoXHR.readyState == 4 && 
                    objetoXHR.status == 200) { 
                    objeto_destino.innerHTML = objetoXHR.responseText; 
                } 
            }
        </script>

    </head>
    <body>
        <form>
            <input type = "button" value ="Buscar información" onclick = "obtenerDatosServidor('holamundo.txt','elemento_destino')">
        </form>
        <div id="elemento_destino">
            <p>La información aparecerá aquí</p> 
        </div> 

    </body>
</html>
